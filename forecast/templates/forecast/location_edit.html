{% extends 'forecast/base.html' %}
{% load i18n %}

{% block title %}{% trans "Edit Location" %} - Migraine Forecast{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mb-4">{% trans "Edit Location" %}</h1>

    <div class="card">
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="city" class="form-label">{% trans "City" %}</label>
                    <input type="text" class="form-control" id="city" name="city" value="{{ location.city }}" required>
                </div>
                <div class="mb-3">
                    <label for="country" class="form-label">{% trans "Country" %}</label>
                    <input type="text" class="form-control" id="country" name="country" value="{{ location.country }}" required>
                </div>
                <div class="mb-3">
                    <label for="latitude" class="form-label">{% trans "Latitude" %}</label>
                    <input type="number" class="form-control" id="latitude" name="latitude" step="0.0001" value="{{ location.latitude }}" required>
                    <div class="form-text">{% trans "Enter a decimal value (e.g., 40.7128 for New York)" %}</div>
                </div>
                <div class="mb-3">
                    <label for="longitude" class="form-label">{% trans "Longitude" %}</label>
                    <input type="number" class="form-control" id="longitude" name="longitude" step="0.0001" value="{{ location.longitude }}" required>
                    <div class="form-text">{% trans "Enter a decimal value (e.g., -74.0060 for New York)" %}</div>
                </div>
                <div class="mb-3">
                    <label for="timezone" class="form-label">{% trans "Timezone" %}</label>
                    <input type="text" class="form-control" id="timezone" name="timezone" value="{{ location.timezone }}" placeholder="UTC">
                    <div class="form-text">{% trans "IANA timezone name (e.g., 'America/New_York', 'Europe/Athens'). Used for digest scheduling." %}</div>
                </div>
                <div class="d-flex justify-content-between">
                    <a href="{% url 'forecast:location_detail' location.id %}" class="btn btn-outline-secondary">{% trans "Cancel" %}</a>
                    <button type="submit" class="btn btn-primary">{% trans "Save Changes" %}</button>
                </div>
            </form>
        </div>
    </div>

    <div class="card mt-4">
        <div class="card-header">
            <h5 class="mb-0">{% trans "Find Coordinates" %}</h5>
        </div>
        <div class="card-body">
            <p>{% trans "You can find the latitude and longitude coordinates for your location using these methods:" %}</p>
            <ul>
                <li>{% trans "Search for your city on" %} <a href="https://www.latlong.net/" target="_blank">LatLong.net</a></li>
                <li>{% trans "Use Google Maps: right-click on a location and select \"What's here?\" to see coordinates" %}</li>
                <li>{% trans "Use your device's GPS to get your current location coordinates" %}</li>
            </ul>
        </div>
    </div>

    <div class="card mt-4">
        <div class="card-header">
            <h5 class="mb-0">{% trans "Find Timezone" %}</h5>
        </div>
        <div class="card-body">
            <p>{% trans "Common timezone examples:" %}</p>
            <ul>
                <li><strong>UTC</strong> - Coordinated Universal Time</li>
                <li><strong>America/New_York</strong> - Eastern Time (US & Canada)</li>
                <li><strong>America/Los_Angeles</strong> - Pacific Time (US & Canada)</li>
                <li><strong>Europe/London</strong> - London, UK</li>
                <li><strong>Europe/Athens</strong> - Athens, Greece</li>
                <li><strong>Asia/Tokyo</strong> - Tokyo, Japan</li>
            </ul>
            <p>{% trans "Find more timezones at" %} <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank">Wikipedia</a></p>
        </div>
    </div>
</div>
{% endblock %}

